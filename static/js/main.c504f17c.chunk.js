(this.webpackJsonprentmystuff=this.webpackJsonprentmystuff||[]).push([[0],{105:function(e,t){},115:function(e,t){},159:function(e,t,n){},165:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(23),s=n.n(a),i=n(14),o=n(7),l=n(6),j=n.n(l),u=(n(100),n(2)),d=n(45),b=n(30),m=Object({NODE_ENV:"production",PUBLIC_URL:"/Rent-My-Stuff",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).CONTRACT_NAME||"rentmystuff.favouradeshina.testnet";var h=function(e){switch(e){case"mainnet":return{networkId:"mainnet",nodeUrl:"https://rpc.mainnet.near.org",contractName:m,walletUrl:"https://wallet.near.org",helperUrl:"https://helper.mainnet.near.org",explorerUrl:"https://explorer.mainnet.near.org"};case"testnet":return{networkId:"testnet",nodeUrl:"https://rpc.testnet.near.org",contractName:m,walletUrl:"https://wallet.testnet.near.org",helperUrl:"https://helper.testnet.near.org",explorerUrl:"https://explorer.testnet.near.org"};default:throw Error("Unknown environment '".concat(e,"'."))}}("testnet");function x(){return(x=Object(i.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.connect)(Object(u.a)({deps:{keyStore:new d.keyStores.BrowserLocalStorageKeyStore}},h));case 2:t=e.sent,window.walletConnection=new d.WalletConnection(t),console.log(window.walletConnection.account()),window.accountId=window.walletConnection.getAccountId(),window.contract=new d.Contract(window.walletConnection.account(),h.contractName,{viewMethods:["getItem","getItems"],changeMethods:["setItem","buyItem","rentingItem","rentItem","sellItem","redeemItem"]});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return O.apply(this,arguments)}function O(){return(O=Object(i.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=b.formatNearAmount,e.next=3,window.walletConnection.account().getAccountBalance();case 3:return e.t1=e.sent.total,e.abrupt("return",(0,e.t0)(e.t1,2));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var f=n(168),v=1e14;function g(e){return w.apply(this,arguments)}function w(){return(w=Object(i.a)(j.a.mark((function e(t){var n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,c=t.price,e.next=3,window.contract.buyItem({itemId:n},v,c);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return I.apply(this,arguments)}function I(){return(I=Object(i.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.next=3,window.contract.sellItem({itemId:n});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(159);var N=n(92),S=n(70),C=n(46),k=n(1),T=function(e){return Object(k.jsx)("header",{className:"header-section",children:Object(k.jsx)(C.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",children:Object(k.jsxs)(N.a,{children:[Object(k.jsx)(C.a.Brand,{href:"#home",children:"Sell My Stuff"}),Object(k.jsx)(C.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(k.jsx)(C.a.Collapse,{id:"responsive-navbar-nav",children:Object(k.jsx)(S.a,{className:"me-auto",children:Object(k.jsxs)(S.a.Link,{href:"#",children:[" USD Balance: $",e.balance]})})})]})})})},B=n(38),L={padding:"120px"},D=function(e){return Object(k.jsx)("div",{children:Object(k.jsx)("div",{style:{background:"linear-gradient(#e66465, #9198e5)"},children:Object(k.jsx)("div",{className:"container",children:Object(k.jsx)("div",{className:"row align-items-center",children:Object(k.jsx)("div",{className:"col-mt-6",children:Object(k.jsxs)("div",{className:"banner-content",style:L,children:[Object(k.jsx)("h1",{className:"title text-light",style:{fontSize:"70px",width:"100%"},children:"Sell My Stuff"}),Object(k.jsx)("p",{className:"text-light fw-bold",children:"Place your items for sale and make some extra cash for yourself."}),Object(k.jsx)(B.a,{href:"#0",variant:"dark",children:"Place your Item for Sale"})]})})})})})})},U=n(15),E=function(e){return Object(k.jsxs)(U.a,{style:{width:"25rem",marginBottom:"40px"},children:[Object(k.jsx)(U.a.Img,{variant:"top",src:e.item.image}),Object(k.jsxs)(U.a.Body,{children:[Object(k.jsxs)(U.a.Title,{children:["Item Name: ",e.item.name]}),Object(k.jsxs)(U.a.Text,{children:["Cost: $",e.item.price/Math.pow(10,24)]}),Object(k.jsxs)(U.a.Text,{children:["Location: ",e.item.location]}),Object(k.jsxs)(U.a.Text,{children:["Item Description: ",e.item.description]}),Object(k.jsx)(B.a,{variant:"dark",onClick:function(){return e.buyItem(e.item.price,e.item.id)},children:"Buy Item"})]})]})},P=function(e){return Object(k.jsx)(c.Fragment,{children:Object(k.jsx)("section",{className:"choose-item-section pt-120 pb-120 section-bg",children:Object(k.jsxs)("div",{className:"container",children:[Object(k.jsx)("div",{className:"row justify-content-center",children:Object(k.jsx)("div",{className:"col-lg-6",children:Object(k.jsxs)("div",{className:"section-header text-center",children:[Object(k.jsx)("h2",{className:"section-title",style:{padding:"20px"},children:"Items available for Sale"}),Object(k.jsx)("p",{style:{lineHeight:"30px",fontSize:"20px",width:"100%"},children:"Items ranging from digital items to tech gadgets, etc"})]})})}),Object(k.jsx)("div",{className:"row",children:e.items.map((function(t){return("true"===t.isSale||!0===t.isSale)&&Object(k.jsx)(E,{item:t,buyItem:e.buyItem},t.id)}))})]})})})},M=n(9),A=function(e){var t=Object(c.useState)(""),n=Object(o.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(""),i=Object(o.a)(s,2),l=i[0],j=i[1],u=Object(c.useState)(""),d=Object(o.a)(u,2),b=d[0],m=d[1],h=Object(c.useState)(),x=Object(o.a)(h,2),p=x[0],O=x[1],f=Object(c.useState)(""),v=Object(o.a)(f,2),g=v[0],w=v[1],y=Object(c.useState)(!0),I=Object(o.a)(y,1)[0],N=Object(c.useState)(""),S=Object(o.a)(N,2),C=S[0],T=S[1];return Object(k.jsx)("section",{id:"0",className:"pt-120 pb-120 bg-dark text-light",children:Object(k.jsxs)("div",{className:"container",children:[Object(k.jsxs)("div",{className:"section-header text-center",children:[Object(k.jsx)("h2",{className:"section-title text-light",style:{paddingTop:"40px"},children:"Place your Item for Sale"}),Object(k.jsxs)("p",{children:[" Kindly fill this form to place your item for Sale on ",Object(k.jsx)("b",{children:"Sell My Stuff.Ng"})]})]}),Object(k.jsxs)(M.a,{style:{paddingBottom:"40px"},onSubmit:function(t){t.preventDefault(),console.log(r,l,b,p,g,C,I),e.addToItems({name:r,description:C,image:l,location:b,price:p,contact:g,isSale:I}),a(""),j(""),m(""),O(""),w(""),T("")},children:[Object(k.jsxs)(M.a.Group,{className:"mb-3",controlId:"formBasicText",children:[Object(k.jsx)(M.a.Label,{children:"Name of Item"}),Object(k.jsx)(M.a.Control,{type:"text",placeholder:"Name of Item",required:!0,value:r,onChange:function(e){return a(e.target.value)}})]}),Object(k.jsxs)(M.a.Group,{className:"mb-3",controlId:"formBasicText",children:[Object(k.jsx)(M.a.Label,{children:"Image URL of Item"}),Object(k.jsx)(M.a.Control,{type:"text",placeholder:"Image URL of item",required:!0,value:l,onChange:function(e){return j(e.target.value)}})]}),Object(k.jsxs)(M.a.Group,{className:"mb-3",controlId:"formBasicText",children:[Object(k.jsx)(M.a.Label,{children:"Location"}),Object(k.jsx)(M.a.Control,{type:"text",placeholder:"Location (Country/State)",required:!0,value:b,onChange:function(e){return m(e.target.value)}})]}),Object(k.jsxs)(M.a.Group,{className:"mb-3",controlId:"formBasicText",children:[Object(k.jsx)(M.a.Label,{children:"Price of Item"}),Object(k.jsx)(M.a.Control,{type:"text",placeholder:"Price in ($)",required:!0,value:p,onChange:function(e){return O(e.target.value)}})]}),Object(k.jsxs)(M.a.Group,{className:"mb-3",controlId:"formBasicText",children:[Object(k.jsx)(M.a.Label,{children:"Contact Details"}),Object(k.jsx)(M.a.Control,{type:"text",placeholder:"Email/Phone Number",required:!0,value:g,onChange:function(e){return w(e.target.value)}})]}),Object(k.jsxs)(M.a.Group,{className:"mb-3",controlId:"formBasicText",children:[Object(k.jsx)(M.a.Label,{children:"Item Descrition"}),Object(k.jsx)(M.a.Control,{type:"textarea",placeholder:"Description of the Item",required:!0,value:C,onChange:function(e){return T(e.target.value)}})]}),Object(k.jsx)(M.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:Object(k.jsx)(M.a.Check,{type:"checkbox",label:"Do you confirm the following details provided?"})}),Object(k.jsx)("br",{}),Object(k.jsx)(B.a,{variant:"primary",type:"submit",children:"Place Item"})]})]})})},R=function(){return Object(k.jsx)("div",{className:"footer-bottom bg-dark text-light",children:Object(k.jsx)("div",{className:"container",children:Object(k.jsx)("div",{className:"row justify-content-between",children:Object(k.jsx)("div",{className:!0,children:Object(k.jsx)("p",{className:"copy-right-text",children:"Copyright \xa9 2022 | All Rights Reserved"})})})})})},_=function(e){return Object(k.jsxs)(U.a,{style:{width:"25rem",marginBottom:"20px"},children:[Object(k.jsx)(U.a.Img,{variant:"top",src:e.item.image}),Object(k.jsxs)(U.a.Body,{children:[Object(k.jsxs)(U.a.Title,{children:["Item Name: ",e.item.name]}),Object(k.jsxs)(U.a.Text,{children:["Cost: $",e.item.price/Math.pow(10,24)]}),Object(k.jsxs)(U.a.Text,{children:["Location: ",e.item.location]}),Object(k.jsxs)(U.a.Text,{children:["Item Description: ",e.item.description]})]})]})},F=function(e){return Object(k.jsx)("section",{className:"choose-item-section pt-120 pb-120 section-bg",children:Object(k.jsxs)("div",{className:"container",children:[Object(k.jsx)("div",{className:"row justify-content-center",children:Object(k.jsx)("div",{className:"col-lg-6",children:Object(k.jsx)("div",{className:"section-header text-center",children:Object(k.jsx)("h2",{className:"section-title",children:"My Items"})})})}),Object(k.jsx)("div",{className:"row",children:e.items.map((function(t){return Object(k.jsx)(_,{item:t,sellItem:e.sellItem},t.id)}))})]})})};var q=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),s=Object(o.a)(a,2),l=s[0],u=s[1],d=Object(c.useState)([]),m=Object(o.a)(d,2),x=m[0],O=m[1],v=window.walletConnection.account(),w=Object(c.useState)("0"),I=Object(o.a)(w,2),N=I[0],S=I[1],C=Object(c.useState)(!1),B=Object(o.a)(C,2),L=B[0],U=B[1],E=Object(c.useCallback)(Object(i.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v.accountId){e.next=9;break}return e.t0=S,e.next=4,p();case 4:return e.t1=e.sent,(0,e.t0)(e.t1),e.next=8,_();case 8:console.log(l);case 9:case"end":return e.stop()}}),e)}))),[v]);Object(c.useEffect)((function(){v.accountId||window.walletConnection.requestSignIn(h.contractName)}),[]),Object(c.useEffect)((function(){E()}),[E]);var M=function(){var e=Object(i.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U(!0);try{(n=t,console.log(n),n.id=Object(f.a)(),n.price=Object(b.parseNearAmount)(n.price+""),window.contract.setItem({item:n})).then((function(e){_()}))}catch(c){console.log({error:c})}finally{U(!1)}case 2:case"end":return e.stop()}var n}),e)})));return function(t){return e.apply(this,arguments)}}(),_=Object(c.useCallback)(Object(i.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U(!0),e.prev=1,e.next=4,window.contract.getItems();case 4:t=e.sent,r(t),u(t.filter((function(e){return e.owner===v.accountId}))),O(t.filter((function(e){return e.renter===v.accountId}))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log({error:e.t0});case 13:return e.prev=13,U(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])}))),[r,n]),q=function(){var e=Object(i.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t,n),U(!0),e.prev=2,e.next=5,g({id:n,price:t});case 5:_(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0);case 11:return e.prev=11,U(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[2,8,11,14]])})));return function(t,n){return e.apply(this,arguments)}}(),G=function(){var e=Object(i.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U(!0),e.prev=1,e.next=4,y({id:t});case 4:_(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:return e.prev=10,U(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[1,7,10,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsx)("div",{className:"content",children:L?Object(k.jsx)("p",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"},children:"Loading..."}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(T,{balance:N}),Object(k.jsx)(D,{}),Object(k.jsx)(P,{items:n,buyItem:q}),Object(k.jsx)(A,{addToItems:M}),Object(k.jsx)(F,{items:l,rentedItems:x,sellItem:G}),Object(k.jsx)(R,{})]})})},G=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,169)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};window.nearInitPromise=function(){return x.apply(this,arguments)}().then((function(){s.a.render(Object(k.jsx)(r.a.StrictMode,{children:Object(k.jsx)(q,{})}),document.getElementById("root"))})).catch(console.error),G()}},[[165,1,2]]]);
//# sourceMappingURL=main.c504f17c.chunk.js.map